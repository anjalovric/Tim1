<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="764px" preserveAspectRatio="none" style="width:1906px;height:764px;background:#FFFFFF;" version="1.1" viewBox="0 0 1906 764" width="1906px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="479.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="126" y="120.4297"/><rect fill="#FFFFFF" height="574.125" style="stroke:#181818;stroke-width:1.0;" width="10" x="342.5" y="91.2969"/><rect fill="#FFFFFF" height="129.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="574.5" y="456.7578"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="849.5" y="485.8906"/><rect fill="#FFFFFF" height="57.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1067.5" y="529.0234"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1228.5" y="558.1563"/><rect fill="#FFFFFF" height="217.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="1371.5" y="178.6953"/><rect fill="#FFFFFF" height="106.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1376.5" y="239.9609"/><rect fill="#FFFFFF" height="40.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1381.5" y="306.2266"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1826.5" y="636.2891"/><rect fill="none" height="264.0625" style="stroke:#000000;stroke-width:1.5;" width="1836.5" x="10" y="140.4297"/><rect fill="none" height="174.6641" style="stroke:#000000;stroke-width:1.5;" width="531.5" x="1305" y="193.6953"/><rect fill="none" height="101.3984" style="stroke:#000000;stroke-width:1.5;" width="458.5" x="1315" y="259.9609"/><rect fill="none" height="189.6641" style="stroke:#000000;stroke-width:1.5;" width="1315" x="10" y="418.4922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="131" x2="131" y1="81.2969" y2="683.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="347" x2="347" y1="81.2969" y2="683.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="579" x2="579" y1="81.2969" y2="683.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="854" x2="854" y1="81.2969" y2="683.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1072" x2="1072" y1="81.2969" y2="683.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1233" x2="1233" y1="81.2969" y2="683.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1376" x2="1376" y1="81.2969" y2="683.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1831" x2="1831" y1="81.2969" y2="683.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216" x="20" y="77.9951">scheduleRenovationViewModel</text><ellipse cx="131" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M131,21.5 L131,48.5 M118,29.5 L144,29.5 M131,48.5 L118,63.5 M131,48.5 L144,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216" x="20" y="695.417">scheduleRenovationViewModel</text><ellipse cx="131" cy="707.2188" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M131,715.2188 L131,742.2188 M118,723.2188 L144,723.2188 M131,742.2188 L118,757.2188 M131,742.2188 L144,757.2188 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="252" y="77.9951">accommodationViewModel</text><ellipse cx="347.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M347.5,21.5 L347.5,48.5 M334.5,29.5 L360.5,29.5 M347.5,48.5 L334.5,63.5 M347.5,48.5 L360.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="252" y="695.417">accommodationViewModel</text><ellipse cx="347.5" cy="707.2188" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M347.5,715.2188 L347.5,742.2188 M334.5,723.2188 L360.5,723.2188 M347.5,742.2188 L334.5,757.2188 M347.5,742.2188 L360.5,757.2188 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="253" x="453" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="239" x="460" y="69.9951">accommodationRenovationService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="253" x="453" y="682.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="239" x="460" y="702.417">accommodationRenovationService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="277" x="716" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="263" x="723" y="69.9951">accommodationRenovationRepository</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="277" x="716" y="682.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="263" x="723" y="702.417">accommodationRenovationRepository</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139" x="1003" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="1010" y="69.9951">notificationService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139" x="1003" y="682.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="1010" y="702.417">notificationService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="163" x="1152" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="1159" y="69.9951">notificationRepository</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="163" x="1152" y="682.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="1159" y="702.417">notificationRepository</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="1325" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="1332" y="69.9951">datesService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="1325" y="682.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="1332" y="702.417">datesService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="1763" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="1770" y="69.9951">renovationService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="1763" y="682.4219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="1770" y="702.417">renovationService</text><rect fill="#FFFFFF" height="479.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="126" y="120.4297"/><rect fill="#FFFFFF" height="574.125" style="stroke:#181818;stroke-width:1.0;" width="10" x="342.5" y="91.2969"/><rect fill="#FFFFFF" height="129.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="574.5" y="456.7578"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="849.5" y="485.8906"/><rect fill="#FFFFFF" height="57.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1067.5" y="529.0234"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="1228.5" y="558.1563"/><rect fill="#FFFFFF" height="217.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="1371.5" y="178.6953"/><rect fill="#FFFFFF" height="106.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1376.5" y="239.9609"/><rect fill="#FFFFFF" height="40.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1381.5" y="306.2266"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1826.5" y="636.2891"/><line style="stroke:#181818;stroke-width:1.0;" x1="131" x2="178" y1="107.4297" y2="107.4297"/><line style="stroke:#181818;stroke-width:1.0;" x1="178" x2="178" y1="107.4297" y2="120.4297"/><line style="stroke:#181818;stroke-width:1.0;" x1="137" x2="178" y1="120.4297" y2="120.4297"/><polygon fill="#181818" points="147,116.4297,137,120.4297,147,124.4297,143,120.4297" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="143" y="102.3638">MakeDatesSuggestions()</text><path d="M10,140.4297 L80,140.4297 L80,147.5625 L70,157.5625 L10,157.5625 L10,140.4297 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="264.0625" style="stroke:#000000;stroke-width:1.5;" width="1836.5" x="10" y="140.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="25" y="153.4966">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="670" x="95" y="152.6401">[SelectedAccommodation != null &amp;&amp; StartDate&gt;DateTime.Now &amp;&amp; EndDate&gt;=StartDate &amp;&amp; Duration!=0]</text><polygon fill="#181818" points="1359.5,174.6953,1369.5,178.6953,1359.5,182.6953,1363.5,178.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="136" x2="1365.5" y1="178.6953" y2="178.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="526" x="143" y="173.6294">GetAvailableDateRanges(StartDate, EndDate, Duration, SelectedAccommodation)</text><path d="M1305,193.6953 L1382,193.6953 L1382,200.8281 L1372,210.8281 L1305,210.8281 L1305,193.6953 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="174.6641" style="stroke:#000000;stroke-width:1.5;" width="531.5" x="1305" y="193.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="1320" y="206.7622">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="300" x="1397" y="205.9058">[reservation in reservationsByAccommodation]</text><line style="stroke:#181818;stroke-width:1.0;" x1="1381.5" x2="1428.5" y1="226.9609" y2="226.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="1428.5" x2="1428.5" y1="226.9609" y2="239.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="1387.5" x2="1428.5" y1="239.9609" y2="239.9609"/><polygon fill="#181818" points="1397.5,235.9609,1387.5,239.9609,1397.5,243.9609,1393.5,239.9609" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="431" x="1393.5" y="221.895">FindDateRanges(startDate, endDate, duration, ranges, reservation)</text><path d="M1315,259.9609 L1392,259.9609 L1392,267.0938 L1382,277.0938 L1315,277.0938 L1315,259.9609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="101.3984" style="stroke:#000000;stroke-width:1.5;" width="458.5" x="1315" y="259.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="1330" y="273.0278">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="106" x="1407" y="272.1714">[date&lt; endDate]</text><line style="stroke:#181818;stroke-width:1.0;" x1="1386.5" x2="1433.5" y1="293.2266" y2="293.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="1433.5" x2="1433.5" y1="293.2266" y2="306.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="1392.5" x2="1433.5" y1="306.2266" y2="306.2266"/><polygon fill="#181818" points="1402.5,302.2266,1392.5,306.2266,1402.5,310.2266,1398.5,306.2266" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="363" x="1398.5" y="288.1606">IsAvailableInDateRange(reservation, startDate, endDate)</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1391.5" x2="1433.5" y1="345.3594" y2="345.3594"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1433.5" x2="1433.5" y1="345.3594" y2="358.3594"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1386.5" x2="1433.5" y1="358.3594" y2="358.3594"/><polygon fill="#181818" points="1396.5,354.3594,1386.5,358.3594,1396.5,362.3594,1392.5,358.3594" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="1398.5" y="340.2935">isAvailableInDateRange</text><polygon fill="#181818" points="147,392.4922,137,396.4922,147,400.4922,143,396.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="141" x2="1375.5" y1="396.4922" y2="396.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="153" y="391.4263">ranges</text><path d="M10,418.4922 L80,418.4922 L80,425.625 L70,435.625 L10,435.625 L10,418.4922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="189.6641" style="stroke:#000000;stroke-width:1.5;" width="1315" x="10" y="418.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="25" y="431.5591">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="142" x="95" y="430.7026">[SelectedDate != null]</text><polygon fill="#181818" points="562.5,452.7578,572.5,456.7578,562.5,460.7578,566.5,456.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="136" x2="568.5" y1="456.7578" y2="456.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="143" y="451.6919">Add(renovation)</text><polygon fill="#181818" points="837.5,481.8906,847.5,485.8906,837.5,489.8906,841.5,485.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="584.5" x2="843.5" y1="485.8906" y2="485.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="591.5" y="480.8247">Add(renovation)</text><polygon fill="#181818" points="595.5,495.8906,585.5,499.8906,595.5,503.8906,591.5,499.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="589.5" x2="853.5" y1="499.8906" y2="499.8906"/><polygon fill="#181818" points="1055.5,525.0234,1065.5,529.0234,1055.5,533.0234,1059.5,529.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="584.5" x2="1061.5" y1="529.0234" y2="529.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="591.5" y="523.9575">Add(type, owner)</text><polygon fill="#181818" points="1216.5,554.1563,1226.5,558.1563,1216.5,562.1563,1220.5,558.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1077.5" x2="1222.5" y1="558.1563" y2="558.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="1084.5" y="553.0903">Add(type, owner)</text><polygon fill="#181818" points="1088.5,568.1563,1078.5,572.1563,1088.5,576.1563,1084.5,572.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1082.5" x2="1232.5" y1="572.1563" y2="572.1563"/><polygon fill="#181818" points="590.5,582.1563,580.5,586.1563,590.5,590.1563,586.5,586.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="584.5" x2="1071.5" y1="586.1563" y2="586.1563"/><polygon fill="#181818" points="142,596.1563,132,600.1563,142,604.1563,138,600.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="136" x2="578.5" y1="600.1563" y2="600.1563"/><polygon fill="#181818" points="1814.5,632.2891,1824.5,636.2891,1814.5,640.2891,1818.5,636.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="352.5" x2="1820.5" y1="636.2891" y2="636.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="359.5" y="631.2231">AreRenovated(accommodations)</text><polygon fill="#181818" points="358.5,661.4219,348.5,665.4219,358.5,669.4219,354.5,665.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="352.5" x2="1830.5" y1="665.4219" y2="665.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="364.5" y="660.356">accommodations</text><!--MD5=[7b4ca47d190f8a147f00b36670bb13a0]
@startuml
actor "scheduleRenovationViewModel" as SRVM
actor "accommodationViewModel" as AVM
participant "accommodationRenovationService" as ARS
participant "accommodationRenovationRepository" as ARR
participant "notificationService" as NS
participant "notificationRepository" as NR
participant "datesService" as DS
participant "renovationService" as RS


SRVM -> SRVM ++: MakeDatesSuggestions()
opt SelectedAccommodation != null && StartDate>DateTime.Now && EndDate>=StartDate && Duration!=0
  SRVM -> DS ++: GetAvailableDateRanges(StartDate, EndDate, Duration, SelectedAccommodation)
  
  loop  reservation in reservationsByAccommodation
   DS -> DS ++: FindDateRanges(startDate, endDate, duration, ranges, reservation)
  loop date< endDate
    DS -> DS ++:IsAvailableInDateRange(reservation, startDate, endDate)
     DS - -> DS - -: isAvailableInDateRange
    deactivate DS
  end
        end


DS - -> SRVM - -: ranges
deactivate DS
end
opt SelectedDate != null
SRVM -> ARS ++: Add(renovation)

ARS -> ARR ++: Add(renovation)
ARR - -> ARS - -

deactivate ARR

ARS -> NS ++: Add(type, owner)
NS -> NR ++: Add(type, owner)
NR - -> NS - -
NS - -> ARS - -

deactivate NR

deactivate NR
deactivate NS
deactivate ARS
ARS - -> SRVM - -
deactivate SRVM
end

activate AVM
AVM -> RS ++: AreRenovated(accommodations)
RS - -> AVM - -: accommodations
deactivate AVM
@enduml

PlantUML version 1.2022.7(Mon Aug 22 17:01:30 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>